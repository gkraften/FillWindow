(function(b){b.fn.fullscreen=function(a,c){if(c){var e=[];b("body").find("*").not(this).each(function(a,c){var d=b(c);"none"!==d.css("display")&&(d.data("display",d.css("display")),e.push(d),d.css("display","none"))});var f=b("body").css("background");b("body").css("background",c);this.data({hidden:e,background:f})}void 0===this.data("fullscreen")&&this.data({width:this.width(),height:this.height(),overflow:this.css("overflow")});this.data("fullscreen",!0);this.css({overflow:"hidden",position:"absolute",
top:"0px",left:"0px"});b(window).on("resize",null,{ratio:a,ele:this},resized).trigger("resize");return this};b.fn.exitFullscreen=function(){if("undefined"!==typeof this.data("hidden")||"undefined"!==typeof this.data("background"))b("body").css("background",this.data("background")),this.data("hidden").forEach(function(a){a.css("display",a.data("display"));a.removeData("display")}),this.removeData("hidden"),this.removeData("background");this.css({overflow:this.data("overflow"),position:"initial"});
this.data("fullscreen",!1);b(window).off("resize",resized);this.attrWidth(this.data("width"));this.attrHeight(this.data("height"));return this};b.fn.toggleFullscreen=function(a,b){return this.data("fullscreen")?this.exitFullscreen():this.fullscreen(a,b)};b.fn.attrWidth=function(a){return this.attr("width",a)};b.fn.attrHeight=function(a){return this.attr("height",a)}})(jQuery);
function resized(b){var a=b.data.ele,c=$(window);-1===b.data.ratio?(a.attrWidth(c.width()),a.attrHeight(c.height())):c.width()/c.height()>b.data.ratio?(a.attrHeight(c.height()),a.attrWidth(c.height()*b.data.ratio),a.css({top:"0px",left:(c.width()-parseInt(a.attr("width")))/2+"px"})):(a.attrHeight(c.width()/b.data.ratio),a.attrWidth(c.width()),a.css({left:"0px",top:(c.height()-parseInt(a.attr("height")))/2+"px"}))};